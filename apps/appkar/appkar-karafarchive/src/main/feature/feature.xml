<?xml version="1.0" encoding="UTF-8"?>
<features name="platform-training-appkar-modules-${project.version}" xmlns="http://karaf.apache.org/xmlns/features/v1.4.0">
	<!-- Added necessary modules repositories here -->
	<!-- Example for UAM, variable is defined in pom 
		<repository>mvn:io.digitaljourney.platform.plugins.modules/uam-karafarchive/${platform.plugins.modules.uam.version}/xml/features</repository>
	-->
	<feature name="appkar-api" description="AppKar API" version="${project.version}" install="manual">
		<feature>base-ws-rs</feature>
		<!-- 
			//FIXME Insert your microservice feature hete
			<feature><microservice_name>-api</feature> 
		-->
		<bundle>mvn:io.digitaljourney.platform.plugins.apps/appkar-api/${project.version}</bundle>
	</feature>

	<feature name="appkar-common-modules" description="AppKar Common Modules" version="${project.version}" install="manual">
		<feature>standard-cxf-jaxrs-swagger</feature>
		<feature>standard-groovy</feature>
		<feature>standard-mapstruct</feature>
		<feature>rsprovider</feature>
		<feature>appkar-api</feature>
		<feature>flagmicroservicersxml-api</feature>
		<feature>productservice-api</feature>
		
		<!-- Facade configurations -->
		<config name="platform.plugins.apps.appkar.facade"></config>
		
		<bundle>mvn:io.digitaljourney.platform.plugins.apps/appkar-common/${project.version}</bundle>
	</feature>
	
	<feature name="appkar-agents-core" description="AppKar Core Agent" version="${project.version}" install="manual">
		<feature>appkar-common-modules</feature>
		
		<config name="platform.plugins.apps.appkar.agent.core"><![CDATA[#
		]]></config>
		
		<bundle>mvn:io.digitaljourney.platform.plugins.apps/appkar-agents-core/${project.version}</bundle>
	</feature>

	<feature name="appkar-cxf-modules" description="AppKar CXF Modules" version="${project.version}" install="manual">
		<feature>appkar-common-modules</feature>
		<feature>appkar-agents-core</feature>
		<bundle>mvn:io.digitaljourney.platform.plugins.apps/appkar-cxf/${project.version}</bundle>
	</feature>

	<feature name="appkar-sling-data" description="AppKar Sling Data" version="${project.version}" install="manual">
		<feature>sling</feature>
		<bundle>mvn:io.digitaljourney.platform.plugins.apps/appkar-cms/${project.version}</bundle>
	</feature>

	<feature name="appkar-mvc-modules" description="AppKar MVC Modules" version="${project.version}"  install="manual">
		<feature>appkar-common-modules</feature>
		<feature>cms-mvc</feature>
		<feature>appkar-agents-core</feature>

		<bundle>mvn:io.digitaljourney.platform.plugins.apps/appkar-app/${project.version}</bundle>
		<feature>appkar-sling-data</feature>
	</feature>
	
	<feature name="appkar" description="AppKar" version="${project.version}">
		<feature>appkar-mvc-modules</feature>
	</feature>
</features>
